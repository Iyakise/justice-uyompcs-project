function __mpcFile_path(){
    var loc = window.location; 
    var path = "";

    // Check if running on localhost or a live server
    if (loc.hostname === "localhost" || loc.hostname === "127.0.0.1") {
        // For local development (WAMP/XAMPP)
        path = loc.protocol + "//" + loc.hostname + "/justice/";
    } else {
        // For live server â€” automatically use the domain name
        path = loc.protocol + "//" + loc.hostname + "/";
    }

    return path;
}
//const ctx = document.querySelector('.mpcchart').getContext('2d');
var xhr, a, Jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec, c, d, e, f, g, url, year, yrs;

year = new Date().getFullYear();

url = __mpcFile_path() +'functions/mpc-dataRtn.php?mpcEarning=earningMonthly&q=' + year;
xhr = new XMLHttpRequest();
xhr.open('GET', url, true);
xhr.onreadystatechange = function() {
    if(this.readyState == 4 && this.status == 200) {

        g = JSON.parse(this.responseText);
       //g = jthis.responseText;

        Jan = g.jan;
        feb = g.feb;
        mar = g.mar;
        apr = g.Apr;
        may = g.may;
        jun = g.jun;
        jul = g.jul;
        aug = g.Aug;
        sep = g.sept;
        oct = g.oct;
        nov = g.nov;
        dec = g.Dec;
        yrs = g.yrs;

       // alert(dec);
    

const ctx = document.getElementById('mpcchart');

    new Chart(ctx, {
        type: 'bar',
        data: {
        labels: ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May', 'Jun.', 'Jul.', 'Aug.', 'Sept.', 'Oct.', 'Nov.', 'Dec.'],
        backgroundColor: [
                'red',
                'green',
                'blue',
                'yellow',
                'black',
                'purple',
                'white',
                'gray',
                'orange',
                'rgba(255, 205, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'maroon',
                
                ],
                borderColor: [
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgb(153, 102, 255)',
                'rgb(201, 203, 207)',
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)'
                ],
        datasets: [{
            label: 'Earnings ' + yrs,
            data: [Jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec],
            borderWidth: 1
        }]
        },
        options: {
            responsive:true
            
        }
        
});

    }
}
xhr.send();



let dxhr, y;
    dxhr = new XMLHttpRequest();
    y = new Date().getFullYear();
    dxhr.open('GET', __mpcFile_path() + 'functions/mpc-dataRtn.php?PERMdEPOSIT=getMPcdeposit&dq='+y, true);
    dxhr.onreadystatechange = function(){
        if(this.readyState == 4 && this.status == 200){
            var rtn, deposit, loan, account;

                rtn = JSON.parse(this.responseText);
                deposit = rtn.deposit;
                loan = rtn.Loan;
                account = rtn.Active;

            const depositCanvas = document.querySelector('.deposit-canvas');

        new Chart(depositCanvas, {
            type: 'polarArea',
            data: {
            labels: ['Loan.', 'Deposit.', 'Active Loan.'],
            backgroundColor: [
                    'red',
                    'green',
                    'blue',
                    ],
                    borderColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    
                    ],
            datasets: [{
                label: 'Activities 2023',
                data: [loan, deposit, account],
                borderWidth: 1
            }]
            },
            options: {
                responsive:true
                
            }
            
    });

        }
    }
    dxhr.send();